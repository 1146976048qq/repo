From 8fe9b2658664d0ece15fe57442706446fed66d6e Mon Sep 17 00:00:00 2001
From: Christian Hesse <mail@eworm.de>
Date: Tue, 15 Jan 2019 17:22:56 +0100
Subject: do not break main configuration with instantiated one

The main configuration file /etc/my.cnf includes all configuration files in
/etc/my.cnf.d/. However an instantiated service mariadb@example.service
reads its configuration from /etc/my.cnf.d/myexample.cnf. This breaks
the main configuration as that includes a snippet intended for an instance.

This can be fixed by changing the path: Let the instantiated service
read its configuration from /etc/myexample.cnf.
---
 support-files/mariadb@.service.in | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/support-files/mariadb@.service.in b/support-files/mariadb@.service.in
index a2f5cff0828..1207e690f47 100644
@@ -142,7 +142,7 @@ After=network.target
 # created these file(s).
 #
 ## See Environment=MYSQLD_MULTI_INSTANCE below for current recommended options.
-ConditionPathExists=!@sysconf2dir@/my%I.cnf
+ConditionPathExists=!@sysconfdir@/my%I.cnf
 
 
 [Install]

