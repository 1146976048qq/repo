# Maintainer: Butui Hu <hot123tea123@gmail.com>

_modules='itk itk-core itk-filtering itk-io itk-numerics itk-registration itk-segmentation'
_py=cp37
pkgname=python-itk
pkgver=5.0.0.post1
pkgrel=1
pkgdesc="An open-source toolkit for multidimensional image analysis. This package include itk-core, itk-filtering, itk-io, itk-numerics, itk-registration, and itk-segmentation module."
arch=('x86_64')
url='https://itk.org/'
license=('Apache')
makedepends=('python-pip')
options=('!strip')
for _name in ${_modules}; do
  source+=("https://files.pythonhosted.org/packages/${_py}/${_name::1}/${_name}/${_name/-/_}-${pkgver}-${_py}-${_py}m-manylinux1_x86_64.whl")
done
sha512sums=('dadbaacee42fe5471a6b3fdc3709ae1a98121de297081259251166b0a5e164544f05450f74ef5640abc78b482660295972e97ffdf5e6546afc75eda4c28804d8'
            '922ced256496ab1ed7582a68fe555850b922cc41777f731c9b0753346499319226575f277233c31d422d1a5e202ab96db0d2a916b4b14513d7a77fcf49088a6f'
            '2505c29481bf2622a20b31c21a3dce0b78ac44ddb430333e0e686f787d4fec3bacea860815591857439dcbb016e50005969fb7b77295d3da770a13c438668ddb'
            '4e5be43e108214c35b8291df44138637f76e03f847c511d7189ccd0abff2eb03c3e9eff6341eb9376a6e4ac1c3a6a1c70b9ec509638b077b7f833e82648206da'
            '6f506b1b6f5c34277ae12d5879f9cd4a99a21bc4ea4bc10dbbb208087c4a04b1a5117b7e863b724b49251baecfa9b8a4c502d7c78e48bef10a02bf6dc99f78d1'
            '3aa4eb3abd8657914397794bfbefe67b9c63db5ea1c7478204a8b7ef10fdd08819fbf87755a378f20a6541fd6e11d8ee88aa8290b941dadcf78e44b25f7b98fa'
            '76b811cefe04b932640d631bc9bb33d4c94b3603dc1a4f052ce386f04aa72f9b456bb4f7a0a9b7822c7f6d4fb0cc0135faf6481a28723e92e7d6ef2f53d79182')

package() {
	PIP_CONFIG_FILE=/dev/null pip install --isolated --root="${pkgdir}" --ignore-installed --no-deps *.whl
	python -O -m compileall "${pkgdir}/usr/lib/python3.7/site-packages/itk"
}
# vim:set ts=2 sw=2 et:

