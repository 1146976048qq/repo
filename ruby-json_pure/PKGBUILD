# Contributor: Daenyth <Daenyth+Arch AT gmail DOT com>
# Maintainer: Alexsandr Pavlov <kidoz at mail dot ru>
pkgname=ruby-json_pure
_gemname=${pkgname#ruby-}
pkgver=1.7.7
pkgrel=1
pkgdesc="A ruby implementation of the JSON specification according to RFC 4627."
arch=('any')
url="http://flori.github.com/json"
license=('GPL')
depends=('ruby' 'rubygems')
source=(http://rubygems.org/downloads/${_gemname}-${pkgver}.gem)
noextract=(${_gemname}-${pkgver}.gem)
sha256sums=('86f22c4fcf2a8c2f06df37a0db271428375f187f6e43db235013f6d4ab02b74b')

package() {
  cd "${srcdir}"
  
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  HOME=/tmp gem install --no-user-install --ignore-dependencies \
  -i "${pkgdir}${_gemdir}" ${_gemname}-${pkgver}.gem
}
