# Maintainer: BennyYip <yebenmy@protonmail.com>
pkgname=cargo-sweep
pkgver=0.2.0
pkgrel=1
pkgdesc="A tool for cleaning unused build files created by Cargo"
arch=('x86_64')
url="https://github.com/holmgr/cargo-sweep"
license=('MIT')
makedepends=('rust' 'cargo')
provides=('cargo-sweep')
depends=('')
source=(cargo-sweep.tar.gz::"https://crates.io//api/v1/crates/$pkgname/$pkgver/download")
sha256sums=('0370b9a16aa8caf167e99133f3c63b082de71f3175faa628b3fb4938067772ec')

build() {
  cd $srcdir/$pkgname-$pkgver
  CARGO_INCREMENTAL=0 cargo build --release
}

package() {
  cd $srcdir/$pkgname-$pkgver
  cargo install --root="$pkgdir/usr"
  rm -f "$pkgdir/usr/.crates.toml"
}

# vim:set sw=2 et:
